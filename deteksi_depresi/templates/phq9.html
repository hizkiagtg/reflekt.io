{% extends 'base.html' %}

{% load static %}

{% block title %}PHQ9{% endblock %}

{% block content %}
<!-- Header -->
<header class="ex-header">
    <div class="container">
        <div class="row">
            <div class="col-xl-10 offset-xl-1">
                <h1>Patient Health Questionnaire (PHQ-9)</h1>
            </div> <!-- end of col -->
        </div> <!-- end of row -->
    </div> <!-- end of container -->
</header> <!-- end of ex-header -->
<!-- end of header -->

<!-- Basic -->
<div class="ex-basic-1 pt-5 pb-5">
    <div class="container">

        {% if hasil_deteksi %}
        <div id="past-result" class="card text-center mb-4">
            <div class="card-header">
                Hasil Terakhir Deteksi Depresi
            </div>
            <div class="card-body">
                <h5 class="card-title">{{ hasil_deteksi.result }}</h5>
            </div>
            <div class="card-footer text-muted">
                {{ hasil_deteksi.date }}
            </div>
        </div>
        {% endif %}
        
        <form action="{% url 'deteksi_depresi:phq9-json' %}" method="POST" id="phq9form" class="form">
            {% csrf_token %}
            <table class="table">
                <thead class="table-dark">
                    <tr>
                        <th class="text-start">Dalam 2 minggu terakhir, seberapa sering Anda terganggu oleh masalah-masalah berikut?</th>
                        <th class="text-center">Tidak pernah</th>
                        <th class="text-center">Beberapa hari</th>
                        <th class="text-center">Lebih dari seminggu</th>
                        <th class="text-center">Hampir setiap hari</th>
                    </tr>
                </thead>
                <tbody>
                    {% for field in form %}
                    <tr>
                        <td class="text-start"><label class="" for="{{ field.auto_id }}">{{ field.label }}</label></th>
        
                        {% for choice in field %}
                        <td class="text-center">{{ choice }}</th>
                        {% endfor %}
    
                    </tr>
                    {% endfor %}
                    <tr>
                        <td class='text-start'>Hasil deteksi depresi</td>
                        <td class='text-center' id='result'></td>
                    </tr>
                </tbody>
            </table>
            <input class="mt-3 btn btn-outline-dark btn-block btn-lg" type="submit" value="Lihat hasil">
        </form>
    </div> <!-- end of container -->
</div> <!-- end of ex-basic-1 -->
<!-- end of basic -->
{% endblock %}

{% block script %}
<!-- Scripts -->
<script src="{% static 'js/phq9.js' %}"></script>
{% endblock %}